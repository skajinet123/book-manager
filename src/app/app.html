<div class="container">
  <h1> Менеджер книг</h1>

  <div class="add-book-form">
    <h2>Добавить новую книгу</h2>
    <form [formGroup]="bookForm" (ngSubmit)="addBook()">
      <div class="form-group">
        <input type="text" formControlName="title" placeholder="Название книги" class="form-control">
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="!bookForm.valid">
        Добавить книгу
      </button>
    </form>
  </div>

  <div class="book-list">
    <h2>Список книг</h2>

    @if (books().length === 0) {
    <div class="empty-state">
      Пока нет книг. Добавьте первую!
    </div>
    }

    @for (book of books(); track book.id) {
    <div class="book-item" [class.read]="book.isRead">
      <div class="book-info">
        <h3>{{ book.title }}</h3>
        <p><strong>Статус:</strong>
          <span class="status" [class.read]="book.isRead">
            {{ book.isRead ? 'Прочитана' : 'Не прочитана' }}
          </span>
        </p>
      </div>

      <div class="book-actions">
        <button (click)="toggleReadStatus(book.id)" class="btn btn-secondary" [class.btn-success]="book.isRead">
          {{ book.isRead ? 'Отметить как непрочитанную' : 'Отметить как прочитанную' }}
        </button>

        <button (click)="deleteBook(book.id)" class="btn btn-danger">
          Удалить
        </button>
      </div>
    </div>
    }
  </div>
</div>